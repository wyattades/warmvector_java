<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>CheerpJ test</title>
    <style>
      body,
      html {
        margin: 0;
        padding: 0;
      }
      /* .cheerpjNC:before {
        display: none;
      } */

      #container {
        width: 100vw;
        height: 100vh;
      }
    </style>
    <script src="https://cjrtnc.leaningtech.com/4.1/loader.js"></script>
  </head>
  <body>
    <div id="container"></div>

    <script>
      (async function () {
        // docs: https://cheerpj.com/docs/reference/cheerpjInit
        await cheerpjInit({
          version: 8,
          enableDebug: true,
          status: "default",
          javaProperties: [
            //
            "warmvector-cheerpj=true",
            // "warmvector-debug=true",
          ],
          // run `cjGetRuntimeResources()` after load to get this, it just speeds up initial load.
          preloadResources: {
            "/lt/8/jre/lib/rt.jar": [
              0, 131072, 1310720, 1572864, 2752512, 3276800, 9699328, 11010048,
              11272192, 12582912, 13238272, 13631488, 15204352, 15335424,
              15466496, 15597568, 15990784, 16384000, 16646144, 16908288,
              17039360, 17563648, 17694720, 17825792, 18219008, 18612224,
              18743296, 18874368, 19005440, 19136512, 20578304, 20709376,
              20840448, 21102592, 21233664, 26869760,
            ],
            "/lt/etc/users": [0, 131072],
            "/lt/etc/localtime": [],
            "/lt/8/jre/lib/cheerpj-awt.jar": [0, 131072],
            "/lt/8/lib/ext/meta-index": [0, 131072],
            "/lt/8/lib/ext": [],
            "/lt/8/lib/ext/index.list": [],
            "/lt/8/lib/ext/localedata.jar": [],
            "/lt/8/jre/lib/jsse.jar": [0, 131072, 786432, 917504],
            "/lt/8/jre/lib/jce.jar": [0, 131072],
            "/lt/8/jre/lib/charsets.jar": [0, 131072, 1703936, 1835008],
            "/lt/8/jre/lib/resources.jar": [0, 131072, 917504, 1179648],
            "/lt/8/jre/lib/javaws.jar": [0, 131072, 1441792, 1703936],
            "/lt/8/lib/ext/sunec.jar": [],
            "/lt/8/lib/ext/sunjce_provider.jar": [],
            "/lt/8/lib/ext/zipfs.jar": [],
            "/lt/etc/timezone": [],
            "/lt/8/lib/tzdb.dat": [0, 131072],
            "/lt/8/jre/lib/meta-index": [0, 131072],
            "/lt/8/jre/lib": [],
            "/lt/8/lib/currency.data": [0, 131072],
            "/lt/8/lib/currency.properties": [],
            "/lt/8/lib/accessibility.properties": [],
            "/lt/8/lib/fonts/LucidaSansRegular.ttf": [],
            "/lt/8/lib/swing.properties": [],
            "/lt/8/lib/fonts/badfonts.txt": [],
            "/lt/8/lib/fonts": [],
            "/lt/etc/hosts": [],
            "/lt/etc/resolv.conf": [0, 131072],
            "/lt/8/lib/security/java.security": [0, 131072],
            "/lt/8/lib/fonts/fallback": [],
            "/lt/fc/fonts/fonts.conf": [0, 131072],
            "/lt/fc/ttf": [],
            "/lt/fc/cache/e21edda6a7db77f35ca341e0c3cb2a22-le32d8.cache-7": [
              0, 131072,
            ],
            "/lt/fc/ttf/LiberationSans-Bold.ttf": [0, 131072, 262144, 393216],
            "/lt/8/lib/sound.properties": [],
          },
        });

        // Create display first
        cheerpjCreateDisplay(-1, -1, document.getElementById("container"));

        // Run the main class
        const runResult = await cheerpjRunMain(
          "Main.Main",
          "/app/jar/binary.jar"
        );

        document.getElementById(
          "container"
        ).innerHTML = `<p>EXIT RESULT: ${JSON.stringify(runResult)}</p>`;
      })();
    </script>
  </body>
</html>
